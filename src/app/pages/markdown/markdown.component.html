<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <div class="col-md-3 bg-light sidebar">
      <h3 class="sidebar-title">Projects</h3>
      <ul class="list-group">
        <li *ngFor="let project of projects" class="list-group-item">
          <!-- Project Name -->
          <div (click)="togglePages(project)" class="project-title">
            {{ project.ProjectName }}
          </div>
          <!-- Pages -->
          <ul *ngIf="project.showPages" class="list-group ml-3">
            <li *ngFor="let page of project.pages" class="list-group-item">
              <a (click)="goToPageEditor(project.ProjectName, page)">
                {{ page }}
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </div>

    <!-- Main Content -->
    <div class="col-md-9">
      <div class="main-content">
        <h3>Create a New Page</h3>
        <form [formGroup]="createpageForm" class="mb-4">
          <div class="form-row">
            <div class="form-group col-md-6">
              <div
                class="input-field"
                [class.error]="
                  createpageForm.controls['project_name'].invalid &&
                  (createpageForm.controls['project_name'].dirty ||
                  createpageForm.controls['project_name'].touched)
                "
              >
                <input
                  formControlName="project_name"
                  type="text"
                  placeholder="Project name"
                  class="form-control"
                />
              </div>
              <small
                *ngIf="
                  createpageForm.controls['project_name'].invalid &&
                  (createpageForm.controls['project_name'].dirty ||
                  createpageForm.controls['project_name'].touched)
                "
                class="text-danger"
              >
                *Project name required
              </small>
            </div>
            <div class="form-group col-md-6">
              <div
                class="input-field"
                [class.error]="
                  createpageForm.controls['page_name'].invalid &&
                  (createpageForm.controls['page_name'].dirty ||
                  createpageForm.controls['page_name'].touched)
                "
              >
                <input
                  formControlName="page_name"
                  type="text"
                  placeholder="Page Name"
                  class="form-control"
                />
              </div>
              <small
                *ngIf="
                  createpageForm.controls['page_name'].invalid &&
                  (createpageForm.controls['page_name'].dirty ||
                  createpageForm.controls['page_name'].touched)
                "
                class="text-danger"
              >
                *Page Name is required
              </small>
            </div>
          </div>
          <button
            (click)="onSubmit()"
            type="submit"
            class="btn btn-primary btn-block"
          >
            Create
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
